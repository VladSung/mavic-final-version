function testWebP(t){var e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const accordion=document.querySelector(".accordion"),accordionItems=document.querySelectorAll(".accordion__item");function _createModal(t){const e=document.createElement("div");return e.classList.add("modal"),e.insertAdjacentHTML("afterbegin",`\n\t\t<div class="modal-overlay" data-close="true">\n\t\t\t<div class="modal-window" ${t.width?"style=width:"+t.width:""}>\n\t\t\t\t<div class="modal-header">\n\t\t\t\t\t<p class="modal-title">${t.title}</p>\n\t\t\t\t\t${t.closable?'<p class="modal-close" data-close="true">&times;</p>':""}\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-body" data-content>\n\t\t\t\t\t${t.content||""}\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-footer">\n\t\t\t\t\t<button class="btn modal-btn" data-close="true"><span data-close="true">Ок</span></button>\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`),document.body.appendChild(e),e}accordion.addEventListener("click",(function(t){const e=t.target.closest(".accordion__item-header");if(!e)return!1;for(let t of accordionItems)t.classList.remove("_active");e.parentElement.classList.add("_active")})),window.addEventListener("hashchange",()=>{const t=document.querySelector(".header"),e=window.location.hash;"#main"===e||""===e?t.classList.remove("fixed"):t.classList.add("fixed")});const modal=t=>{const e=_createModal(t);e.querySelector(".modal-overlay"),e.querySelector(".modal-close");let o=!1,n=!1;const c={open(){if(n)return console.log("modal is destroyed");!o&&e.classList.add("modal--open")},close(){o=!0,e.classList.remove("modal--open"),setTimeout((function(){o=!1}),500)}},a=t=>{t.target.dataset.close&&c.close()};return e.addEventListener("click",a),Object.assign(c,{destroy(){e.removeEventListener("click",a),e.parentNode.removeChild(e),n=!0},setContent(t){e.querySelector("[data-content]").innerHTML=t}})},modalInfo=modal({title:"Внимание",content:"<p>Это демонстрационная страница и некоторые функции могут быть недоступны!</p>",closable:!0}),buttons=document.querySelectorAll(".js-modal-btn");for(const t of buttons)t.addEventListener("click",(function(t){t.preventDefault(),modalInfo.open()}));!function(){const t=document.querySelector(".header__menu-btn"),e=document.querySelector(".nav");let o=!0;t.addEventListener("click",(function(n){if(n.preventDefault(),!o)return!1;o=!1,e.classList.contains("active")?(e.classList.remove("active"),document.body.style.overflow="visible"):(document.body.style.overflow="hidden",e.classList.add("active")),t.classList.toggle("active"),setTimeout((function(){o=!0}),500)}))}();